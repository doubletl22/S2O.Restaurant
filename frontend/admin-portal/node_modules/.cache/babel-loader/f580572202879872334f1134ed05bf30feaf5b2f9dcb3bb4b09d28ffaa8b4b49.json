{"ast":null,"code":"import useEvent from \"@rc-component/util/es/hooks/useEvent\";\nimport * as React from 'react';\nimport { unstable_batchedUpdates } from 'react-dom';\nimport channelUpdate from \"./channelUpdate\";\n/**\n * Batcher for record any `useEffectState` need update.\n */\nexport function useBatcher() {\n  // Updater Trigger\n  const updateFuncRef = React.useRef(null);\n\n  // Notify update\n  const notifyEffectUpdate = callback => {\n    if (!updateFuncRef.current) {\n      updateFuncRef.current = [];\n      channelUpdate(() => {\n        unstable_batchedUpdates(() => {\n          updateFuncRef.current.forEach(fn => {\n            fn();\n          });\n          updateFuncRef.current = null;\n        });\n      });\n    }\n    updateFuncRef.current.push(callback);\n  };\n  return notifyEffectUpdate;\n}\n\n/**\n * Trigger state update by `useLayoutEffect` to save perf.\n */\nexport default function useEffectState(notifyEffectUpdate, defaultValue) {\n  // Value\n  const [stateValue, setStateValue] = React.useState(defaultValue);\n\n  // Set State\n  const setEffectVal = useEvent(nextValue => {\n    notifyEffectUpdate(() => {\n      setStateValue(nextValue);\n    });\n  });\n  return [stateValue, setEffectVal];\n}","map":{"version":3,"names":["useEvent","React","unstable_batchedUpdates","channelUpdate","useBatcher","updateFuncRef","useRef","notifyEffectUpdate","callback","current","forEach","fn","push","useEffectState","defaultValue","stateValue","setStateValue","useState","setEffectVal","nextValue"],"sources":["/Users/dangtantrieu/Documents/S2O.Restaurant/frontend/admin-portal/node_modules/@rc-component/overflow/es/hooks/useEffectState.js"],"sourcesContent":["import useEvent from \"@rc-component/util/es/hooks/useEvent\";\nimport * as React from 'react';\nimport { unstable_batchedUpdates } from 'react-dom';\nimport channelUpdate from \"./channelUpdate\";\n/**\n * Batcher for record any `useEffectState` need update.\n */\nexport function useBatcher() {\n  // Updater Trigger\n  const updateFuncRef = React.useRef(null);\n\n  // Notify update\n  const notifyEffectUpdate = callback => {\n    if (!updateFuncRef.current) {\n      updateFuncRef.current = [];\n      channelUpdate(() => {\n        unstable_batchedUpdates(() => {\n          updateFuncRef.current.forEach(fn => {\n            fn();\n          });\n          updateFuncRef.current = null;\n        });\n      });\n    }\n    updateFuncRef.current.push(callback);\n  };\n  return notifyEffectUpdate;\n}\n\n/**\n * Trigger state update by `useLayoutEffect` to save perf.\n */\nexport default function useEffectState(notifyEffectUpdate, defaultValue) {\n  // Value\n  const [stateValue, setStateValue] = React.useState(defaultValue);\n\n  // Set State\n  const setEffectVal = useEvent(nextValue => {\n    notifyEffectUpdate(() => {\n      setStateValue(nextValue);\n    });\n  });\n  return [stateValue, setEffectVal];\n}"],"mappings":"AAAA,OAAOA,QAAQ,MAAM,sCAAsC;AAC3D,OAAO,KAAKC,KAAK,MAAM,OAAO;AAC9B,SAASC,uBAAuB,QAAQ,WAAW;AACnD,OAAOC,aAAa,MAAM,iBAAiB;AAC3C;AACA;AACA;AACA,OAAO,SAASC,UAAUA,CAAA,EAAG;EAC3B;EACA,MAAMC,aAAa,GAAGJ,KAAK,CAACK,MAAM,CAAC,IAAI,CAAC;;EAExC;EACA,MAAMC,kBAAkB,GAAGC,QAAQ,IAAI;IACrC,IAAI,CAACH,aAAa,CAACI,OAAO,EAAE;MAC1BJ,aAAa,CAACI,OAAO,GAAG,EAAE;MAC1BN,aAAa,CAAC,MAAM;QAClBD,uBAAuB,CAAC,MAAM;UAC5BG,aAAa,CAACI,OAAO,CAACC,OAAO,CAACC,EAAE,IAAI;YAClCA,EAAE,CAAC,CAAC;UACN,CAAC,CAAC;UACFN,aAAa,CAACI,OAAO,GAAG,IAAI;QAC9B,CAAC,CAAC;MACJ,CAAC,CAAC;IACJ;IACAJ,aAAa,CAACI,OAAO,CAACG,IAAI,CAACJ,QAAQ,CAAC;EACtC,CAAC;EACD,OAAOD,kBAAkB;AAC3B;;AAEA;AACA;AACA;AACA,eAAe,SAASM,cAAcA,CAACN,kBAAkB,EAAEO,YAAY,EAAE;EACvE;EACA,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGf,KAAK,CAACgB,QAAQ,CAACH,YAAY,CAAC;;EAEhE;EACA,MAAMI,YAAY,GAAGlB,QAAQ,CAACmB,SAAS,IAAI;IACzCZ,kBAAkB,CAAC,MAAM;MACvBS,aAAa,CAACG,SAAS,CAAC;IAC1B,CAAC,CAAC;EACJ,CAAC,CAAC;EACF,OAAO,CAACJ,UAAU,EAAEG,YAAY,CAAC;AACnC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}