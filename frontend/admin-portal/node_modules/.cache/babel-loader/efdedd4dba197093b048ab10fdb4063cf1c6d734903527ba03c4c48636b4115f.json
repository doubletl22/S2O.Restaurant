{"ast":null,"code":"import raf from \"@rc-component/util/es/raf\";\nimport * as React from 'react';\nfunction smoothScrollOffset(offset) {\n  return Math.floor(offset ** 0.5);\n}\nexport function getPageXY(e, horizontal) {\n  const obj = 'touches' in e ? e.touches[0] : e;\n  return obj[horizontal ? 'pageX' : 'pageY'] - window[horizontal ? 'scrollX' : 'scrollY'];\n}\nexport default function useScrollDrag(inVirtual, componentRef, onScrollOffset) {\n  React.useEffect(() => {\n    const ele = componentRef.current;\n    if (inVirtual && ele) {\n      let mouseDownLock = false;\n      let rafId;\n      let offset;\n      const stopScroll = () => {\n        raf.cancel(rafId);\n      };\n      const continueScroll = () => {\n        stopScroll();\n        rafId = raf(() => {\n          onScrollOffset(offset);\n          continueScroll();\n        });\n      };\n      const clearDragState = () => {\n        mouseDownLock = false;\n        stopScroll();\n      };\n      const onMouseDown = e => {\n        // Skip if element set draggable\n        if (e.target.draggable || e.button !== 0) {\n          return;\n        }\n        // Skip if nest List has handled this event\n        const event = e;\n        if (!event._virtualHandled) {\n          event._virtualHandled = true;\n          mouseDownLock = true;\n        }\n      };\n      const onMouseMove = e => {\n        if (mouseDownLock) {\n          const mouseY = getPageXY(e, false);\n          const {\n            top,\n            bottom\n          } = ele.getBoundingClientRect();\n          if (mouseY <= top) {\n            const diff = top - mouseY;\n            offset = -smoothScrollOffset(diff);\n            continueScroll();\n          } else if (mouseY >= bottom) {\n            const diff = mouseY - bottom;\n            offset = smoothScrollOffset(diff);\n            continueScroll();\n          } else {\n            stopScroll();\n          }\n        }\n      };\n      ele.addEventListener('mousedown', onMouseDown);\n      ele.ownerDocument.addEventListener('mouseup', clearDragState);\n      ele.ownerDocument.addEventListener('mousemove', onMouseMove);\n      ele.ownerDocument.addEventListener('dragend', clearDragState);\n      return () => {\n        ele.removeEventListener('mousedown', onMouseDown);\n        ele.ownerDocument.removeEventListener('mouseup', clearDragState);\n        ele.ownerDocument.removeEventListener('mousemove', onMouseMove);\n        ele.ownerDocument.removeEventListener('dragend', clearDragState);\n        stopScroll();\n      };\n    }\n  }, [inVirtual]);\n}","map":{"version":3,"names":["raf","React","smoothScrollOffset","offset","Math","floor","getPageXY","e","horizontal","obj","touches","window","useScrollDrag","inVirtual","componentRef","onScrollOffset","useEffect","ele","current","mouseDownLock","rafId","stopScroll","cancel","continueScroll","clearDragState","onMouseDown","target","draggable","button","event","_virtualHandled","onMouseMove","mouseY","top","bottom","getBoundingClientRect","diff","addEventListener","ownerDocument","removeEventListener"],"sources":["/Users/dangtantrieu/Documents/S2O.Restaurant/frontend/admin-portal/node_modules/@rc-component/virtual-list/es/hooks/useScrollDrag.js"],"sourcesContent":["import raf from \"@rc-component/util/es/raf\";\nimport * as React from 'react';\nfunction smoothScrollOffset(offset) {\n  return Math.floor(offset ** 0.5);\n}\nexport function getPageXY(e, horizontal) {\n  const obj = 'touches' in e ? e.touches[0] : e;\n  return obj[horizontal ? 'pageX' : 'pageY'] - window[horizontal ? 'scrollX' : 'scrollY'];\n}\nexport default function useScrollDrag(inVirtual, componentRef, onScrollOffset) {\n  React.useEffect(() => {\n    const ele = componentRef.current;\n    if (inVirtual && ele) {\n      let mouseDownLock = false;\n      let rafId;\n      let offset;\n      const stopScroll = () => {\n        raf.cancel(rafId);\n      };\n      const continueScroll = () => {\n        stopScroll();\n        rafId = raf(() => {\n          onScrollOffset(offset);\n          continueScroll();\n        });\n      };\n      const clearDragState = () => {\n        mouseDownLock = false;\n        stopScroll();\n      };\n      const onMouseDown = e => {\n        // Skip if element set draggable\n        if (e.target.draggable || e.button !== 0) {\n          return;\n        }\n        // Skip if nest List has handled this event\n        const event = e;\n        if (!event._virtualHandled) {\n          event._virtualHandled = true;\n          mouseDownLock = true;\n        }\n      };\n      const onMouseMove = e => {\n        if (mouseDownLock) {\n          const mouseY = getPageXY(e, false);\n          const {\n            top,\n            bottom\n          } = ele.getBoundingClientRect();\n          if (mouseY <= top) {\n            const diff = top - mouseY;\n            offset = -smoothScrollOffset(diff);\n            continueScroll();\n          } else if (mouseY >= bottom) {\n            const diff = mouseY - bottom;\n            offset = smoothScrollOffset(diff);\n            continueScroll();\n          } else {\n            stopScroll();\n          }\n        }\n      };\n      ele.addEventListener('mousedown', onMouseDown);\n      ele.ownerDocument.addEventListener('mouseup', clearDragState);\n      ele.ownerDocument.addEventListener('mousemove', onMouseMove);\n      ele.ownerDocument.addEventListener('dragend', clearDragState);\n      return () => {\n        ele.removeEventListener('mousedown', onMouseDown);\n        ele.ownerDocument.removeEventListener('mouseup', clearDragState);\n        ele.ownerDocument.removeEventListener('mousemove', onMouseMove);\n        ele.ownerDocument.removeEventListener('dragend', clearDragState);\n        stopScroll();\n      };\n    }\n  }, [inVirtual]);\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}