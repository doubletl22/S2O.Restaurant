<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>Láº¥y Firebase Token</title>
</head>
<body>
    <h2>Tool láº¥y Token Ä‘á»ƒ test Postman</h2>
    <button onclick="loginWithGoogle()" style="padding: 10px 20px; font-size: 16px; cursor: pointer;">
        ğŸ‘‰ Báº¥m vÃ o Ä‘Ã¢y Ä‘á»ƒ ÄÄƒng nháº­p Google
    </button>
    
    <br><br>
    <textarea id="myToken" rows="10" cols="80" placeholder="Token sáº½ hiá»‡n ra á»Ÿ Ä‘Ã¢y..."></textarea>
    <p>Copy toÃ n bá»™ chuá»—i á»Ÿ trÃªn dÃ¡n vÃ o Postman (Body -> firebaseToken)</p>

    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>

    <script>
        // --- 1. DÃN CONFIG Cá»¦A Báº N VÃ€O ÄÃ‚Y ---
        const firebaseConfig = {
            apiKey: "AIzaSyA0K6X6LfYVtoQ0sXHNeyuklAd_eD5f5J0",
    authDomain: "s2o-restaurant-b563e.firebaseapp.com",
    projectId: "s2o-restaurant-b563e",
    storageBucket: "s2o-restaurant-b563e.firebasestorage.app",
    messagingSenderId: "217541251375",
    appId: "1:217541251375:web:cefd16edca21e80166d1da",
    measurementId: "G-XQF9HZS2SP"
        };
        // --------------------------------------

        firebase.initializeApp(firebaseConfig);

        function loginWithGoogle() {
            const provider = new firebase.auth.GoogleAuthProvider();
            firebase.auth().signInWithPopup(provider)
                .then((result) => {
                    // Láº¥y Token
                    return result.user.getIdToken();
                })
                .then((token) => {
                    console.log("Token: ", token);
                    document.getElementById("myToken").value = token;
                    alert("ÄÃ£ láº¥y Ä‘Æ°á»£c Token! HÃ£y copy tá»« Ã´ bÃªn dÆ°á»›i.");
                })
                .catch((error) => {
                    console.error(error);
                    alert("Lá»—i: " + error.message);
                });
        }
    </script>
</body>
</html>