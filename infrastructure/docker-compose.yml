version: '3.8'
services:
  # Databases
  postgres:
    image: postgres:latest
    ports: ["5432:5432"]
  redis:
    image: redis:alpine
    ports: ["6379:6379"]
  qdrant:
    image: qdrant/qdrant
    ports: ["6333:6333"]

  # Backend Services (Kết nối qua mạng nội bộ Docker)
  identity-service:
    build: ../backend/identity-service
    ports: ["5001:80"]
  
  ai-service:
    build: ../backend/ai-service
    ports: ["5005:5000"]
    environment:
      - VECTOR_DB_URL=qdrant